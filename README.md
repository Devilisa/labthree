Лабораторная работа №3

В файле main.py находится рабочий код, заполняющий bmp файл, но график выглядит очень странно

В файле extra.py находится код, который строит правильный красивый график с помошью matplotlib и numpy, потом я сохранила этот график в папку лабораторной работы в формате jpeg и с помошью base64 и функции encode попыталась записать это все в bmp файл, программа не выдает ошибок, но файл записывается ннеправильно(он не открывается), я очень долго с ним мучилась, но ошибку найти не могу(обратилась за помощью к одногруппникам и мне подсказали другой путь, но было бы замечательно, если бы мне помогли найти ошибку в этом)
 
